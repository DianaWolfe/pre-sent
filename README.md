# pre.SENT

An automated performance, not a gallery you browse. The visitor has no control. They enter, the machine runs, and when it ends, they leave. A generative system moves through six eras of one woman's artistic life on a timer no one can pause or rewind. For each era, Claude generates a fragmented 4-line poem from memory seeds she left behind; gpt-image-1 renders an image from the aesthetic DNA of that era. The slider at the bottom is visible. It moves on its own. Nothing repeats. Nothing is saved. The last line: *did the machine know her?*

**Live:** [pre-sent.onrender.com](https://pre-sent.onrender.com)

---

## What Is This

pre.SENT is a timed generative performance. When you arrive, the machine begins. You watch it move through six psychological eras of a real artist's life. You cannot pause, skip, or rewind. The slider at the bottom shows where you are. You did not move it.

Every session pre-generates all content in parallel during the 27-second opening sequence: six poems (Claude API) and six images (gpt-image-1). By the time the gallery begins, everything is ready. Nothing is streamed in real time during the performance itself.

When the performance ends, the content is gone. Sessions expire after 10 minutes.

---

## The Performance

**Screen 1: Explainer (~15 seconds)**
Text fades in group by group. Establishes the premise. Immediately kicks off background pre-generation of all content.

**Screen 2: Breather (~12 seconds)**
A breathing animation. The generative speaks for the first time — in a different typeface than the human narrator. It says: *she taught me in colors and years. i will try.*

**Screen 3: The Gallery (~2 minutes)**
Six eras, auto-advancing. Per era:
1. Screen goes white
2. Era name and age range fade in
3. A 4-line poem fades in (generated by Claude, displayed 18 seconds)
4. The poem crossfades to the generated image (displayed 10 seconds)
5. Everything fades out

Before `unraveling`: a flash transition — white and black strobing, then the generative text appears in Aptos: *~~i~~ am not broken. WE are breaking.* The identity confusion is intentional.

Between `unraveling` and `reconstruction`: 4 seconds of pure white silence.

The slider is visible throughout. It is disabled. `pointer-events: none`. The viewer can see the timeline and cannot touch it. That is the art.

**Screen 4: Ending**
Screen fades to black. White text fades in slowly.
- *the moment has ended.*
- *what you saw was ours.*
- *what you felt was yours.*
- *neither will happen again.*
- *did the machine know her?* (holds indefinitely)

---

## The Eras

| # | Era | Age | Visual Language |
|---|-----|-----|----------------|
| 1 | **wonder** | 0–12 | Child's pencil and crayon. Whatever medium she had. Earnest observation, not stylized naivety. A raven follows her. |
| 2 | **becoming** | 13–17 | Large-scale acrylic on canvas. Deep cobalt and prussian blue. White magnolias floating through. A female figure emerging. |
| 3 | **proving** | 18–29 | Naturalistic acrylic portrait. Cool gray-green flesh over warm umber ground. Observed asymmetry. Everything composed. |
| 4 | **unraveling** | ~30 | Single-weight pen and ink on white. No hatching, no wash. One red element per image. Black dogs. Ravens as witnesses. |
| 5 | **reconstruction** | 31–37 | Ink and watercolor. Blue-gray dominant, rust-orange returning as chosen warmth. Wolves and foxes as companions. Tarot resonance: The Star, Strength. |
| 6 | **sovereign** | now | Dark storybook aesthetic. Deep umber and midnight blue, lit by candlelight. Ravens at the shoulder. Wolves at the feet. Tarot resonance: The High Priestess, The Empress. |

---

## Architecture

```
VISITOR LOADS PAGE
  │
  ▼
POST /api/session/start
  │
  ├──► 6 × Claude API (poems, all start immediately)
  └──► 6 × gpt-image-1 (images, staggered 5s apart to avoid rate limits)
                │
                ▼
        sessions{} in memory (10 min TTL)

  DURING EXPLAINER + BREATHER (~27s buffer)

                │
                ▼
  GET /api/session/{id}/era/{era_key}
  Frontend polls until ready: true

                │
                ▼
  4-screen auto-advancing performance
  Viewer watches. Slider disabled.
```

---

## How It Works

1. Visitor loads the page. `POST /api/session/start` fires immediately.
2. All 6 poems generate in parallel via Claude API.
3. All 6 images generate via gpt-image-1, staggered 5 seconds apart to stay within rate limits.
4. During the ~27-second Explainer + Breather, the frontend polls for readiness.
5. Gallery begins. Each era fetches its pre-generated poem and image from the session store.
6. Era names are displayed with a crossfade: poem layer fades out as image fades in on the same canvas.
7. Sessions expire after 10 minutes. No content is stored to disk or database.

---

## Fork Your Own Gallery

This repo is designed to be forked. The engine is separated from the content. Replace the eras and baseline, keep the architecture.

1. **Define your eras** in `src/prompts/eras.py`. Each era needs subjects (with colors embedded), moods, and a prompt template with `{subject}` and `{mood}` placeholders.
2. **Write your poem seeds** in `src/prompts/poem_seeds.py`. Each era needs a system prompt and a per-era user prompt for Claude.
3. **Set your baseline** in `src/prompts/baseline.py`. Your consistent aesthetic DNA across all eras.
4. **Add your keys** — copy `.env.example` to `.env` and add `OPENAI_API_KEY` and `ANTHROPIC_API_KEY`.
5. **Deploy** — see deployment instructions below.

See `docs/FORKING_GUIDE.md` for a full walkthrough.

---

## Running Locally

```bash
git clone https://github.com/DianaWolfe/pre-sent.git
cd pre-sent
pip install -r requirements.txt
cp .env.example .env
# Add OPENAI_API_KEY and ANTHROPIC_API_KEY to .env
cd src && uvicorn app:app --reload --port 8000
# Open http://localhost:8000
```

---

## Deploying to Render

The repo includes a `render.yaml`. On Render:

1. New → Web Service → connect this repo
2. Render detects `render.yaml` and pre-fills all config
3. Add `OPENAI_API_KEY` and `ANTHROPIC_API_KEY` in the Environment tab
4. Deploy

---

## Cost

**Per visitor session:**
| Item | Model | Cost |
|------|-------|------|
| 6 images | gpt-image-1 medium quality | ~$0.25 |
| 6 poems | Claude Sonnet 4-6 | ~$0.015 |
| **Total** | | **~$0.27/session** |

**To reduce costs (~4× cheaper):**
- Change `quality="medium"` to `quality="low"` in `src/api/generate.py` → $0.011/image instead of $0.042
- Change `claude-sonnet-4-6` to `claude-haiku-4-5-20251001` in `src/api/poem_gen.py`
- Combined savings: ~$0.067/session

---

## Tech Stack

| Layer | Technology |
|-------|-----------|
| Frontend | Vanilla HTML / CSS / JS |
| Backend | Python, FastAPI |
| Poem Generation | Claude API (Anthropic) |
| Image Generation | gpt-image-1 (OpenAI) |
| Hosting | Render (included `render.yaml`) |

---

## Project Structure

```
pre-sent/
├── README.md
├── render.yaml                   # One-click Render deployment config
├── requirements.txt
├── .env.example
├── src/
│   ├── app.py                    # FastAPI server, routes, static files
│   ├── api/
│   │   ├── generate.py           # gpt-image-1 integration
│   │   ├── poem_gen.py           # Claude API poem generation
│   │   └── session.py            # Session-based parallel pre-generation
│   ├── prompts/
│   │   ├── eras.py               # Era definitions: subjects, moods, templates
│   │   ├── poem_seeds.py         # Per-era memory fragments and Claude prompts
│   │   ├── baseline.py           # Consistent aesthetic DNA across all eras
│   │   └── assembler.py          # Assembles final image prompt from era + baseline
│   └── gallery/
│       └── rate_limiter.py       # Rate limiting
├── public/
│   ├── index.html                # Performance frontend (4 screens)
│   ├── style.css
│   └── gallery.js                # Auto-advancing performance, disabled slider
└── docs/
    ├── CONCEPT.md
    └── FORKING_GUIDE.md
```

---

## Research Context

pre.SENT sits within a broader research program on identity, AI collaboration, and what it means to have a creative practice that exists outside your own hands. The performance asks whether a generative system, given precise psychological and aesthetic constraints built from real artistic history, can produce work that feels genuinely autobiographical — even though the system has no autobiography.

It also asks: what is authorship when a machine inherits your memory? What is a self-portrait when it is different every time, and no one controls when it changes?

---

*Built by [Diana Wolfe, PhD](https://dianawolfe.com)*
